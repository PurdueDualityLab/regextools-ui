
<mat-card *ngIf="!isExpanded; else expanded" class="result-item__container"
    [class.results-item__added-border]="mode === 'added'"
    [class.results-item__removed-border]="mode === 'removed'">
    <div mat-card-content class="results-item__content">
        <div class="results-item__main-info">
            <code class="results-item__regex-text">{{ regex.pattern }}</code>
            <div class="results-item__action-box">
                <button mat-stroked-button (click)="setToClipboard()">
                    Copy
                    <mat-icon>content_copy</mat-icon>
                </button>
                <a mat-stroked-button href="{{ (createRegex101Url$() | async) }}" target="_blank"
                    matTooltip="Explore this regex further in regex101.com"
                    matTooltipShowDelay="750">
                    Regex101
                <mat-icon>info</mat-icon>
                </a>
            </div>
        </div>
        <div class="results-item__source-info">
            <a mat-button *ngIf="regex.sourceLocations.length > 0" color="accent" [href]="createRepoLink(regex.sourceLocations[0])" target="_blank">View Example Regex Source</a>
            <a mat-button *ngIf="regex.forumLocations.length > 0" color="accent" [href]="regex.forumLocations[0].uri" target="_blank">View Forum Example</a>
            <span style="flex: 1;"></span>
            <span *ngIf="coverageText"
                class="results-item__coverage-info"
                [ngStyle]="{'background-color': colorMap[coverageText]}"
            >
                <b>Coverage: {{ coverageText | uppercase }}</b>
            </span>
            <button mat-flat-button color="accent" (click)="openMoreInfo()">MORE INFO</button>
        </div>
    </div>
</mat-card>

<ng-template #expanded>
    <mat-card class="result-item-expanded__container">
        <button mat-stroked-button>
            More Info
           <mat-icon>info</mat-icon>
        </button>
    </mat-card>
</ng-template>